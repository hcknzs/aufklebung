import { StickerRenderer } from "@/lib/stickers";

export const innenRenderer: StickerRenderer = async (params, ctx) => {
	const fg = params.foregroundColor || "#000";

	ctx.fillStyle = params.backgroundColor;
	ctx.beginPath();
	ctx.rect(0, 0, ctx.canvas.width, ctx.canvas.height);
	ctx.fill();
	ctx.closePath();

	const image = new Image();

	image.src = `data:image/svg+xml;base64,${window.btoa(`<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 1080 1080">
	<path fill="${fg}" d="M427.9 103c17.9 2.5 31.2 9.3 39.7 20.5 8.6 11.2 14.7 28.2 18.4 51 11.2 1.8 20.9 4 29.3 6.4 8.3 2.5 15.6 5.8 21.7 10.1s11 9.6 14.7 16c3.7 6.4 6.4 14.4 8.2 24 .6 3.8 1 7.2 1.1 10.4.1 3.2 0 6.3-.5 9.3-.9 6.7-2.9 12.8-5.9 18.2-3 5.4-6.8 10.4-11.3 14.9-4.5 4.5-9.5 8.7-15.2 12.4-5.7 3.8-11.6 7.4-17.8 10.8.7 9 1.5 17.2 2.1 24.7.7 7.5.5 14.5-.4 20.9-1.1 7.8-4 15-8.8 21.5-4.7 6.5-12.7 12.7-23.8 18.5-13.6 7.2-26.2 10.1-38 8.4-9-1.3-17.5-4.6-25.6-10.2-8.1-5.5-16.5-12.7-25.3-21.3-10.8 5.9-20.9 10.4-30.1 13.6-9.3 3.1-18.4 4.1-27.4 2.8-11.8-1.6-23.2-7.8-34.3-18.5-9.1-8.7-15-16.8-17.8-24.3-2.8-7.5-3.7-15.2-2.6-23.1.9-6.4 2.7-13.2 5.4-20.2s5.6-14.8 8.8-23.2c-10.3-9.7-18.9-20.2-25.6-31.4-6.7-11.2-9.2-23.4-7.3-36.6a48 48 0 0 1 2.1-9.1c1-3 2.3-6.3 3.9-9.8 4.4-8.8 9.2-15.7 14.5-20.9 5.3-5.1 11.4-8.9 18.5-11.3 7-2.5 14.9-3.7 23.6-3.8s18.7.5 29.9 1.8c9.8-20.9 20.3-35.6 31.6-44 11.7-8.1 26.3-11 44.2-8.5z"/>
	<path fill="${fg}" d="M647.3 619.6c-12.7 4.9-27.8 7.3-45.6 7.3-9.4 0-18.5-1-27.2-3s-16.4-5.1-23-9.2c-6.6-4.1-11.9-9.3-15.9-15.6s-5.9-13.7-5.9-22.3V317.2c6.9-6 16.6-11.5 29.3-16.3 12.7-4.9 27.8-7.3 45.6-7.3 9.4 0 18.4 1 27.2 3 8.7 2 16.4 5.1 23 9.2s11.9 9.3 15.9 15.6c3.9 6.3 5.9 13.7 5.9 22.3v259.7c-6.9 5.9-16.7 11.4-29.3 16.2zm199.6-304.1c4.4-3.7 9.3-6.9 14.7-9.7s11.2-5.1 17.2-6.9c6-1.8 12.3-3.2 18.6-4.2s12.6-1.4 18.6-1.4c9.4 0 18.6.9 27.5 2.7 9 1.8 16.9 4.7 23.9 8.9 6.9 4.2 12.5 9.8 16.7 16.8 4.2 7 6.3 15.9 6.3 26.4v238.1c0 7.6-1.9 13.9-5.6 19.1-3.8 5.2-8.8 9.3-15.1 12.5-6.3 3.1-13.5 5.3-21.6 6.7-8.1 1.4-16.5 2-25.2 2-5.4 0-10.7-.3-16.2-.9-5.4-.6-10.6-1.5-15.4-2.7-4.9-1.1-9.4-2.5-13.6-4-4.2-1.5-7.8-3.2-10.8-5-7.2-9.2-13.7-18.1-19.5-26.6s-11.1-16.7-16-24.6c-4.9-7.9-9.4-15.4-13.6-22.5-4.2-7.1-8.2-13.9-12-20.2-2.9.3-4.8 1.2-5.8 2.7-1 1.4-1.5 3.1-1.5 5.2 0 2.5.7 5 2 7.4 1.4 2.5 3.1 5.4 5.3 8.9l31.4 50.8v13.3c-2.5 1.7-5.7 3.6-9.5 5.8-3.9 2.2-8.6 4.2-14.2 6.2-5.6 1.9-12.1 3.5-19.5 4.9-7.4 1.4-15.9 2-25.4 2-10.9 0-21-1.1-30.1-3.3-9.2-2.2-17.2-5.4-23.9-9.7s-11.9-9.6-15.6-16c-3.7-6.4-5.5-13.7-5.5-22.1v-252c0-4.2 1.8-8.2 5.5-11.9 3.7-3.8 8.7-7 15.1-9.7 6.4-2.7 13.8-4.8 22.4-6.4 8.6-1.6 17.7-2.4 27.4-2.4 11.1 0 21.3 1.4 30.7 4 9.4 2.7 16.5 5.9 21.4 9.8 3.7 4.7 7.7 10.3 12 16.7 4.4 6.5 9 13.6 13.8 21.4 4.9 7.8 9.9 16.1 15.2 24.9 5.3 8.8 10.7 17.8 16.2 27 1.7 0 3.3-.5 4.9-1.6 1.6-1.1 2.4-2.9 2.4-5.4 0-1.8-.7-4.1-2-6.7-1.4-2.6-2.8-5.2-4.3-7.7L847 329.3v-13.8h-.1zM242.8 666.4c4.4-3.7 9.3-6.9 14.7-9.7 5.4-2.8 11.2-5.1 17.2-6.9 6-1.8 12.3-3.2 18.6-4.2 6.4-.9 12.6-1.4 18.6-1.4 9.4 0 18.6.9 27.5 2.7 9 1.8 16.9 4.7 23.9 8.9 6.9 4.2 12.5 9.8 16.7 16.8 4.2 7 6.3 15.9 6.3 26.4v238.1c0 7.6-1.9 13.9-5.6 19.1-3.8 5.2-8.8 9.3-15.1 12.5-6.3 3.1-13.5 5.3-21.6 6.7-8.1 1.4-16.5 2-25.2 2-5.4 0-10.7-.3-16.2-.9-5.4-.6-10.6-1.5-15.4-2.7-4.9-1.1-9.4-2.5-13.6-4-4.2-1.5-7.8-3.2-10.8-5-7.2-9.2-13.7-18.1-19.5-26.6-5.8-8.6-11.1-16.7-16-24.6s-9.4-15.4-13.6-22.5c-4.2-7.1-8.2-13.9-12-20.2-2.9.3-4.8 1.2-5.8 2.7-1 1.4-1.5 3.1-1.5 5.2 0 2.5.7 5 2 7.4 1.4 2.5 3.1 5.4 5.3 8.9l31.4 50.8V959c-2.5 1.7-5.7 3.6-9.5 5.8-3.9 2.2-8.6 4.2-14.2 6.2-5.6 1.9-12.1 3.5-19.5 4.9-7.4 1.4-15.9 2-25.4 2-10.9 0-21-1.1-30.1-3.3-9.2-2.2-17.2-5.4-23.9-9.7-6.7-4.3-11.9-9.6-15.6-16s-5.5-13.7-5.5-22.1V675c0-4.2 1.8-8.2 5.5-11.9 3.7-3.8 8.7-7 15.1-9.7 6.4-2.7 13.8-4.8 22.4-6.4s17.7-2.4 27.4-2.4c11.1 0 21.3 1.4 30.7 4 9.4 2.7 16.5 5.9 21.4 9.8 3.7 4.7 7.7 10.3 12 16.7 4.4 6.5 9 13.6 13.8 21.4 4.9 7.8 9.9 16.1 15.2 24.9 5.3 8.8 10.7 17.8 16.2 27 1.7 0 3.3-.5 4.9-1.6 1.6-1.1 2.4-2.9 2.4-5.4 0-1.8-.7-4.1-2-6.7s-2.8-5.2-4.3-7.7L243 680.2v-13.8h-.2zM663.1 649c2.2 3.5 4.2 7.4 6 11.7 1.8 4.3 3.3 8.7 4.5 13.3 1.1 4.6 2.1 9.2 2.8 13.8.7 4.6 1 8.9 1 12.9 0 17.3-3.3 30.1-10.1 38.4-6.7 8.4-15.9 12.6-27.6 12.6H538.4c-6.2 0-9.3 2.5-9.3 7.3v2c0 1 .2 1.7.5 2h120.2c1.5 2.5 2.9 5.5 4.3 8.9 1.4 3.4 2.5 7 3.4 10.8.9 3.8 1.7 7.6 2.2 11.6.6 4 .9 7.7.9 11.2 0 10.1-1 19.1-3 27-2 8-4.7 14.6-8 19.7H595c-14.2 0-26 .4-35.3 1.1-9.3.7-16.6 1.7-22 2.9-5.4 1.2-9.1 2.5-11.3 3.9-2.2 1.4-3.3 2.9-3.3 4.4 0 1.4.2 2.6.6 3.8.4 1.2 1.4 2.2 2.9 3 4.2-1.4 8.4-2.5 12.8-3.5s9.2-1.8 14.6-2.4c5.4-.6 11.4-1 18-1.4 6.6-.3 14.3-.5 23-.5h70.6c1.8 2.7 3.7 5.6 5.5 8.9 1.8 3.3 3.5 7 4.9 11.3 1.4 4.3 2.6 9.2 3.5 14.7.9 5.5 1.4 11.9 1.4 19.1 0 4.5-.3 9.3-1 14.4s-1.7 10.2-3 15.2c-1.4 5-3.1 9.8-5.3 14.3-2.2 4.5-4.8 8.4-7.8 11.8H475.6c-9.9 0-19.1-1.2-27.6-3.7-8.6-2.5-16-6.2-22.4-11.3-6.4-5.1-11.4-11.6-15.1-19.3-3.7-7.8-5.5-17.2-5.5-28V672.1c0-8 9.3-13.9 27.9-17.6 18.6-3.7 47-5.5 85.2-5.5h145zm183.8 17.4c4.4-3.7 9.3-6.9 14.7-9.7 5.4-2.8 11.2-5.1 17.2-6.9 6-1.8 12.3-3.2 18.6-4.2 6.4-.9 12.6-1.4 18.6-1.4 9.4 0 18.6.9 27.5 2.7 9 1.8 16.9 4.7 23.9 8.9 6.9 4.2 12.5 9.8 16.7 16.8 4.2 7 6.3 15.9 6.3 26.4v238.1c0 7.6-1.9 13.9-5.6 19.1-3.8 5.2-8.8 9.3-15.1 12.5-6.3 3.1-13.5 5.3-21.6 6.7-8.1 1.4-16.5 2-25.2 2-5.4 0-10.7-.3-16.2-.9-5.4-.6-10.6-1.5-15.4-2.7-4.9-1.1-9.4-2.5-13.6-4-4.2-1.5-7.8-3.2-10.8-5-7.2-9.2-13.7-18.1-19.5-26.6s-11.1-16.7-16-24.6c-4.9-7.9-9.4-15.4-13.6-22.5-4.2-7.1-8.2-13.9-12-20.2-2.9.3-4.8 1.2-5.8 2.7-1 1.4-1.5 3.1-1.5 5.2 0 2.5.7 5 2 7.4 1.4 2.5 3.1 5.4 5.3 8.9l31.4 50.8V959c-2.5 1.7-5.7 3.6-9.5 5.8-3.9 2.2-8.6 4.2-14.2 6.2-5.6 1.9-12.1 3.5-19.5 4.9-7.4 1.4-15.9 2-25.4 2-10.9 0-21-1.1-30.1-3.3-9.2-2.2-17.2-5.4-23.9-9.7s-11.9-9.6-15.6-16c-3.7-6.4-5.5-13.7-5.5-22.1V675c0-4.2 1.8-8.2 5.5-11.9 3.7-3.8 8.7-7 15.1-9.7 6.4-2.7 13.8-4.8 22.4-6.4 8.6-1.6 17.7-2.4 27.4-2.4 11.1 0 21.3 1.4 30.7 4 9.4 2.7 16.5 5.9 21.4 9.8 3.7 4.7 7.7 10.3 12 16.7 4.4 6.5 9 13.6 13.8 21.4 4.9 7.8 9.9 16.1 15.2 24.9 5.3 8.8 10.7 17.8 16.2 27 1.7 0 3.3-.5 4.9-1.6 1.6-1.1 2.4-2.9 2.4-5.4 0-1.8-.7-4.1-2-6.7s-2.8-5.2-4.3-7.7L847 680.2v-13.8h-.1z"/>
</svg>`)}`;

	if (!image.complete) {
		await new Promise((resolve) => (image.onload = resolve));
	}

	ctx.drawImage(image, 0, 0, ctx.canvas.width, ctx.canvas.height);
};
